<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title></title>
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta http-equiv="Content-Type" content="charset=UTF-8"/>
        <link rel="shortcut icon" type="image/png" href="images/favicon.png"/>
        <link rel="stylesheet" href="style/main.css">
        <link rel="stylesheet" href="style/template.css">
        <script type="text/javascript" src="scripts/jquery-3.2.1.js"></script>
        <script>
            window.addEventListener("resize", resize, false);
            window.addEventListener("load", resize, false);

            $(document).ready(function(){
                $(".menu_item.not_acc").mouseenter(function(){menuItemBorder(this, 0, "#0c77c9", "#fff")})
                $(".menu_item.not_acc").mouseleave(function(){menuItemBorder(this, 1, "#fff", "#0c77c9")})

                $("#drop_down_icon").click(function(){
                    if(window.innerWidth > 756) return "Not mobile.";
                    if($("#item_container").height() == 46){
                        $("#menu_bar").height("100%");
                        $(".menu_item").css("opacity", "1");

                        //TODO: have items opacity set to zero and then close menu on menu close
                        //      i.e. the oppist sequence of menu opening

                        // $("#menu_bar").css({"height": "100%", "transition": "height .5s .5s"});
                        // $(".menu_item").css({"opacity": "1", "transition": "opacity .5s"});
                    }
                    else{
                        $("#menu_bar").height("46px");
                        $(".menu_item").css("opacity", "0");
                    }
                })
            })

            function resize(){
                //TODO - keep menu fixed and try width
                w = window.innerWidth;
                if(w > 765) $(".menu_item").css("opacity", "1");
                else $(".menu_item").css("opacity", "0");
                $(".menu_item").css("border-color", w <= 765 ? "#fff" : "#0c77c9");
                $(".menu_item.active").css("border-color", w <= 765 ? "#0c77c9" : "#fff");
            }

            function menuItemBorder(t, l, c1, c2){
                if(window.innerWidth <= 765) return -1;
                if(l && $(t).hasClass("active"))
                    $(t).css("border-color", "#fff");
                else{
                    $(".menu_item.active").css("border-color", c1);
                    $(t).css("border-color", c2);
                }
            }
        </script>
    </head>
    <body>

        <!--TODO: try mobile menu full-size, and find good transition -->

        <!-- menu bar -->
        <div id="menu_bar">
            <div id="item_container">
                <!--NOTE: anchor instead of div as div disspears when wrapped in anchor in mobile mode -->
                <div id="drop_down_icon">Menu тнг</div>
                <div id="item_mobile_center_container">
                    <a class="menu_item not_acc">Home</a>
                    <a class="menu_item not_acc">Services</a>
                    <a class="menu_item not_acc active">Status</a>
                    <a class="menu_item not_acc last">Contact Us</a>
                </div>
                <a href="login.html" id="account_link" class="menu_item account_icon">Login</a>
                <!-- <div class="menu_item"></div> -->
            </div>
        </div>
    </body>
</html>
